(this["webpackJsonptry-react-query"]=this["webpackJsonptry-react-query"]||[]).push([[0],{36:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){"use strict";s.r(t);var n=s(3),r=s(1),c=s.n(r),a=s(27),o=s.n(a),i=s(45),l=s(17),d=s(10),u=s(6),b=s(14),j=s.n(b),p=s(20),h=s(46),x=s(47),m=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/posts");case 3:return t=e.sent,e.abrupt("return",t.json());case 7:throw e.prev=7,e.t0=e.catch(0),Error;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/posts/".concat(t));case 3:return s=e.sent,e.abrupt("return",s.json());case 7:throw e.prev=7,e.t0=e.catch(0),Error;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(j.a.mark((function e(t){var s,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.title,n=t.body,e.prev=1,e.next=4,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({title:s,body:n})});case 4:return r=e.sent,e.abrupt("return",r.json());case 8:throw e.prev=8,e.t0=e.catch(1),Error;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),v=(s(36),function(e){var t=e.className,s=void 0===t?"":t,r=s?" ".concat(s):"";return Object(n.jsx)("div",{className:"preloader w-8 h-8 border-4 text-blue-500"+r})}),g=function(e){e.id;var t=e.title,s=e.body,r=e.className,c=void 0===r?"":r,a=c?" ".concat(c):"";return Object(n.jsxs)("div",{className:["post","hover:bg-gray-50","bg-white","rounded-md","shadow-xl","p-4","transition",a].join(" "),children:[Object(n.jsx)("h3",{className:"post__title text-xl text-blue-700 mb-4 uppercase",children:t}),Object(n.jsx)("p",{className:"post__body",children:s})]})},y=function(){var e=function(){var e=Object(h.a)("posts",m);return{data:e.data,isLoading:e.isLoading}}(),t=e.data,s=void 0===t?[]:t,r=e.isLoading;return Object(n.jsxs)("div",{className:"posts container mx-auto p-8",children:[Object(n.jsxs)("div",{className:"posts__title-container flex items-center mb-8",children:[Object(n.jsx)("h2",{className:"posts__title text-4xl font-extrabold",children:"Posts"}),r&&Object(n.jsx)(v,{className:"ml-6"}),Object(n.jsx)(d.b,{className:["posts__button-new-post","text-white","hover:bg-blue-700","bg-blue-500","rounded-md","shadow-xl","px-4","py-2","transition","ml-auto"].join(" "),to:"/posts/new",children:"+ New post"})]}),Object(n.jsx)("section",{className:"posts__grid grid grid-cols-1 md:grid-cols-2 gap-8",children:s.map((function(e){var t=e.id,s=e.title,r=e.body;return Object(n.jsx)(d.b,{className:"flex",to:"/posts/".concat(t),children:Object(n.jsx)(g,{id:t,title:s,body:r})},t)}))})]})},w=s(21),N=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(!1),s=Object(w.a)(t,2),c=s[0],a=s[1],o=Object(r.useState)(""),i=Object(w.a)(o,2),l=i[0],u=i[1],b=Object(r.useState)(""),j=Object(w.a)(b,2),p=j[0],h=j[1],m=function(){var e=Object(x.a)((function(e){return O(e)}));return{setPost:e.mutate,isLoading:e.isLoading,isSuccess:e.isSuccess}}(),f=m.setPost,g=m.isLoading,y=m.isSuccess,N=Object(n.jsxs)("form",{className:"grid gap-4 mb-8",onSubmit:function(e){e.preventDefault(),f({title:l,body:p})},onChange:function(t){var s=Array.from(e.current.elements).map((function(e){return e.validity.valid}));a(s.every((function(e){return e})))},ref:e,noValidate:!0,children:[Object(n.jsx)("input",{className:["post-new-title","h-10","w-full","px-4","border","border-gray-300","focus:border-blue-700","rounded-md","text-gray-700","bg-white","focus:outline-none","focus:ring-4","focus:ring-blue-300","transition"].join(" "),placeholder:"Title",required:!0,onChange:function(e){return u(e.target.value)}}),Object(n.jsx)("textarea",{className:["post-new-title","h-10","w-full","h-64","px-4","py-2","border","border-gray-300","focus:border-blue-700","rounded-md","text-gray-700","bg-white","focus:outline-none","focus:ring-4","focus:ring-blue-300","transition"].join(" "),placeholder:"Body",required:!0,onChange:function(e){return h(e.target.value)}}),Object(n.jsx)("button",{disabled:!c,className:["posts__button-new-post","text-white","hover:bg-blue-700","bg-blue-500","rounded-md","shadow-xl","px-4","py-2","transition","ml-auto","disabled:bg-gray-300","disabled:pointer-events-none","focus:outline-none"].join(" "),to:"/posts/new",children:"Submit"})]}),_=Object(n.jsx)("div",{className:"bg-yellow-300 rounded-md shadow-xl p-4 mb-8",children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 REST API JSONPlaceholder \u043d\u0430 \u0441\u0430\u043c\u043e\u043c \u0434\u0435\u043b\u0435 \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u0440\u0435\u0441\u0443\u0440\u0441 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440, \u0430 \u043b\u0438\u0448\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442. \u0415\u0441\u043b\u0438 \u0432\u044b \u044d\u0442\u043e \u0432\u0438\u0434\u0438\u0442\u0435, \u0441\u0435\u0440\u0432\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0438\u043b \u2014 \u0432\u0441\u0451 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435. \u041f\u043e\u0432\u0435\u0440\u0438\u043c \u043d\u0430 \u0441\u043b\u043e\u0432\u043e =)"});return Object(n.jsxs)("div",{className:"post-new container mx-auto p-8",children:[Object(n.jsxs)("div",{className:"post-new__title-container flex items-center mb-8",children:[Object(n.jsx)("h2",{className:"post-new__title text-4xl font-extrabold",children:"New post"}),g&&Object(n.jsx)(v,{className:"ml-6"})]}),Object(n.jsxs)("section",{className:"post-new__section",children:[y?_:N,Object(n.jsx)(d.b,{className:"text-blue-700 mt-8",to:"/posts",children:"\u2190 \u041d\u0430\u0437\u0430\u0434"})]})]})},_=function(){var e=Object(u.g)().id,t=function(e){var t=Object(h.a)(["posts",e],(function(){return f(e)}));return{data:t.data,isLoading:t.isLoading}}(e),s=t.data,r=t.isLoading;return Object(n.jsxs)("div",{className:"post-id container mx-auto p-8",children:[Object(n.jsxs)("div",{className:"post-id__title-container flex items-center mb-8",children:[Object(n.jsxs)("h2",{className:"post-id__title text-4xl font-extrabold",children:["Post by ID ",e]}),r&&Object(n.jsx)(v,{className:"ml-6"})]}),Object(n.jsxs)("section",{className:"post-id__section",children:[Object(n.jsx)(g,{className:"mb-8",id:e,title:null===s||void 0===s?void 0:s.title,body:null===s||void 0===s?void 0:s.body}),Object(n.jsx)(d.b,{className:"text-blue-700 mt-8",to:"/posts",children:"\u2190 \u041d\u0430\u0437\u0430\u0434"})]})]})};var S=function(){return Object(n.jsx)("div",{className:"app",children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{path:"/posts",exact:!0,children:Object(n.jsx)(y,{})}),Object(n.jsx)(u.b,{path:"/posts/new",children:Object(n.jsx)(N,{})}),Object(n.jsx)(u.b,{path:"/posts/:id",children:Object(n.jsx)(_,{})}),Object(n.jsx)(u.b,{path:"/*",children:Object(n.jsx)(u.a,{to:"/posts"})})]})})},L=(s(42),new i.a);o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(l.a,{client:L,children:Object(n.jsx)(d.a,{basename:"/try-react-query",children:Object(n.jsx)(S,{})})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.8f480193.chunk.js.map